<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>產能規劃</title>
    <!-- 引入 Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='prediction_style.css') }}">
    <!--<style>
        body {
            text-align: center;
            background-color: lightgray;
        }
        table {
            margin: auto; /* 表格水平居中 */
            border-collapse: collapse; /* 合并表格边框 */
        }
        th, td {
            border: 1px solid black; /* 添加边框 */
            padding: 8px; /* 增加填充 */
        }
    </style>-->
</head>

<body>
    <h1 class="title">設施規劃</h1>
    <form>
        <h2>包括選址策略、建築設計、廠區佈局、物料處理系統等。通常公司的實體資產組織會希望有效運用人力、物料、設備和能源。</h2>
        <h2>而設施佈局是生產機器設備、工作站、人員、各類物料和階段的位置，以及物料處理設備的物理排列；廠區佈局則是製造設施設計項目的最終結果。</h2>
        <h2>所以此類工作內容涉及到，分析設備問題、確定作業需求、評估可行性方案、選擇最佳設施規劃，並實施、維護、及時修正設施計畫。</h2>
    </form>
    <br/>
    <button class="site" data-bs-toggle="collapse" data-bs-target="#courses" aria-expanded="false" aria-controls="courses">
        ↓↓↓ 系上課程推薦 ↓↓↓
    </button><br/>

    <div class="collapse" id="courses">
        <!-- 系上課程推薦 -->
        <h1 class="title">系上課程推薦</h1>
        <p class="title-p">40% 以上的學長姐都推薦！！！</p>
        <!-- 浮水印內容 -->
        <div class="watermark">Made by @_yun_1206</div>
        <div class="card card-body">
            <div class="content-container">
                <div class="left-side">
                    <!-- 必修課程 -->
                    <h2>必修課程</h2>
                    <div>  
                        <!-- 工業管理概論 -->
                        <details>
                            <summary class="detail">工業管理概論</summary>
                            <p class="detail">工業管理綜觀，涵蓋生產、品質、會計、物流等領域，提供理論與實務工具。</p>
                        </details>
                        <!--人因工程學 -->
                        <details>
                            <summary class="detail">人因工程學</summary>
                            <p class="detail">人因工程與系統概念，改善人機系統，確保安全與效率。</p>
                        </details>
                        <!--工作研究 -->
                        <details>
                            <summary class="detail">工作研究</summary>
                            <p class="detail">解釋方法研究和時間測量常用技術的理論基礎；了解工作學習領域應用的最新技術。</p>
                        </details>
                        <!--生產與作業管理 -->
                        <details>
                            <summary class="detail">生產與作業管理</summary>
                            <p class="detail">各項製程規劃與管理方法。</p>
                        </details>
                    </div>
                </div>

                <div class="right-side">
                    <!-- 選修課程 -->
                    <h2>選修課程</h2>
                    <div>
                        <!-- 設施規劃 -->
                        <details>
                            <summary class="detail">設施規劃</summary>
                            <p class="detail">教導設施規劃者選擇最佳位置和設備配置，以達成作業目標。包括組成、空間需求、活動關係、物料搬運系統、活動位置調整等。</p>
                        </details>
                        <!-- 工業安全 -->
                        <details>
                            <summary class="detail">工業安全</summary>
                            <p class="detail">探討勞工安全衛生法規，意外事故之防止對策，安全工程的研究方法與我國勞工安全衛生之現況、統計資料。</p>
                        </details>
                        <!-- 工業安全衛生法規 -->
                        <details>
                            <summary class="detail">工業安全衛生法規</summary>
                            <p class="detail">介紹工業安全衛生法令及相關法規，包括勞基法、勞檢法、危險工作場所審查與其他標準。</p>
                        </details>
                        <!-- 工業衛生 -->
                        <details>
                            <summary class="detail">工業衛生</summary>
                            <p class="detail">本課程涵蓋工業衛生基本概念、理論與應用技術、職業疾病預防、環境衛生設施與衛生計劃制定。</p>
                        </details>
                    </div>
                </div>
            </div>
        <!-- 詳細課程介紹請至臺灣科技大學學生資訊系統查詢 -->
        <p>詳細課程介紹請至 <a href="https://querycourse.ntust.edu.tw/querycourse/#/"><strong>臺灣科技大學學生資訊系統</strong></a> 查詢</p>
        </div>
    </div>

    <br/>
    <button class="site" data-bs-toggle="collapse" data-bs-target="#activities" aria-expanded="false" aria-controls="activities">
        ↓↓↓ 課外活動推薦指數 ↓↓↓
    </button><br/>

    <div class="container">
        <div class="collapse" id="activities">
            <div class="title">課外活動推薦指數</div>
            <!-- 浮水印內容 -->
            <div class="watermark">Made by @_yun_1206</div>
            <div class="card card-body">
                <canvas id="activityChart"></canvas>
            </div>
        </div>
    </div>
    
    <!-- 引入 Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- 引入自定義的 JavaScript 
    <script src="/static/scripts.js"></script>-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const ctx = document.getElementById('activityChart').getContext('2d');

            // 原始數據
            const activityDataRaw = [
                { label: '校外實習', value: 32 },
                { label: '各式比賽', value: 24 },
                { label: '打工', value: 12 },
                { label: '企業參訪', value: 16 },
                { label: '學校社團', value: 16 }
            ];

            // 按照值進行排序（降序）
            const activityDataSorted = activityDataRaw.sort((a, b) => b.value - a.value);

            // 提取標籤和數據
            const labels = activityDataSorted.map(item => item.label);
            const data = activityDataSorted.map(item => item.value);

            // 配置圖表數據
            const activityData = {
                labels: labels,
                datasets: [{
                    data: data,
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.5)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(153, 102, 255, 0.2)'
                    ],
                    hoverOffset: 4
                }]
            };

            // 創建圓餅圖
            const activityChart = new Chart(ctx, {
                type: 'pie',
                data: activityData,
                options: {
                    maintainAspectRatio: false,
                    responsive: true,
                    plugins: {
                        legend: {
                            labels: {
                                position: 'top',
                                font: {
                                    size: 16 // 設置標籤字體大小為16
                                },
                                padding: 20 // 設置標籤與圖表之間的距離
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function (tooltipItem) {
                                    const label = activityData.labels[tooltipItem.dataIndex];
                                    const value = activityData.datasets[0].data[tooltipItem.dataIndex];
                                    return `${label}: ${value}%`;
                                }
                            }
                        }
                    },
                    layout: {
                        padding: {
                            left: 30,
                            right: 30,
                            top: 30,
                            bottom: 0
                        }
                    }
                }
            });

            document.getElementById('activityChart').addEventListener('mousemove', function(event) {
                const points = activityChart.getElementsAtEventForMode(event, 'nearest', { intersect: true }, false);
                if (points.length) {
                    const firstPoint = points[0];
                    const label = activityChart.data.labels[firstPoint.index];
                    const value = activityChart.data.datasets[firstPoint.datasetIndex].data[firstPoint.index];
                    
                    const tooltipEl = document.getElementById('detail');
                    tooltipEl.style.display = 'block';
                    tooltipEl.style.left = event.pageX + 'px';
                    tooltipEl.style.top = event.pageY + 'px';
                    document.getElementById('detailTitle').innerText = label;
                    document.getElementById('detailIndex').innerText = `推薦指數: ${value}`;
                } else {
                    document.getElementById('detail').style.display = 'none';
                }
            });

            document.getElementById('activityChart').addEventListener('mouseout', function() {
                document.getElementById('detail').style.display = 'none';
            });
        });
    </script>
</body>
</html>